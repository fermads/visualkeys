!function(e){function n(e){var n=e.keyCode;return(e.shiftKey||e.ctrlKey)&&32==n||120==n&&!y?(i(),!1):y||(e.metaKey||e.altKey)&&e.shiftKey?(t(n),!1):void(27==n&&s[27]&&s[n].exec(n,s[n]))}function i(){if(y=!0,c)return void c.show();e("body").remove("#visualkeys").append('<div id="visualkeys"><em></em><ul></ul></div>');var n,i,t="";for(n in s)i=s[n],i.hide||(t+='<li onclick="$.visualkeys('+n+')" class="key'+n+'">'+i.text+"</li>");d=e("#visualkeys em"),c=e("#visualkeys ul"),c.html(t)}function t(n){c||i(),y=!1,c.hide();var t=s[n];if(t&&!t.hide){setTimeout(function(){t.exec(n,t)},100);var o=e(".key"+n+" b").text()||"";d.html(o).show().fadeOut("slow",function(){d.empty()})}}function o(){e("#visualkeys").remove(),e(document).unbind("keydown",n),e("iframe").contents().unbind("keydown",n)}function u(i){c=!1,s=i,e(document).keydown(n),setTimeout(function(){e("iframe").contents().keydown(n)},3e3)}var s,y,c,d;e.visualkeys=function(e){"object"==typeof e?u(e):"number"==typeof e?t(e):"remove"==e&&o()}}(jQuery);